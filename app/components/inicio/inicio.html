<div ng-controller="InicioCtrl">
    <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2">
        <form>
                <select id="selectCity" class="select2" ng-model="cities.selected"
                        ng-options="city.name for city in cities.options" ng-change="loadCity()">
                </select>
        </form>
        <table class="table">
            <tr>
                <td rowspan="2" style="width: 50%;">
                    <div class="panel panel-info">
                        <div class="panel-heading">Açudes <span ng-hide="dataLoaded" class="fa fa-spinner fa-spin"></span></div>
                        <div class="panel-body" style="height: 250px; padding: 0px;">
                            <ol id="watersourcesAccordion" class="color" style="width: auto; height: 100%; list-style-type: none">
                                <li ng-repeat="watersource in watersources" on-accordion-repeat-render>
                                    <div>{{watersource.name}}</div>
                                    <div>
                                        <div style="display: inline-flex; width: 100%; height: 100%;">
                                            <div class="watersource-measurement" style="width: 60%">
                                                <span class="value">{{watersource.lastMeasurement.value | number}} {{watersource.measurementUnit}}</span>
                                                <span class="label">Volume Atual</span>
                                                <hr>
                                                <span class="label">Capacidade Máxima</span>
                                                <span class="value">{{watersource.capacity | number}} {{watersource.measurementUnit}}</span>
                                            </div>
                                            <div class="watersource-level" style="width: 40%">
                                                <span class="percent bad">{{((watersource.lastMeasurement.value / watersource.capacity) * 100) | number : 2}} %</span>
                                                <span class="text">Percentual de água em: </span>
                                                <span class="date">{{watersource.lastMeasurement.date | date : 'dd/MM/yyyy'}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ol>
                        </div>
                    </div>
                </td>
                <td class="cards" style="height: 240px">
                    <div class="panel panel-body1 panel-success-info1" style="height: 45%">
                        <div class="panel-heading">Estimativa de litros por pessoa <span ng-hide="dataLoaded" class="fa fa-spinner fa-spin"></span></div>
                        <div class="panel-body">
                            <div ng-show="dataLoaded">
                                <h3 class="text-cards">{{ cards.liters | number:0 }} litros</h3>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-body2 panel-success-info2" style="height: 45%">
                        <div class="panel-heading">Quantidade de litros por pessoa <span ng-hide="dataLoaded" class="fa fa-spinner fa-spin"></span></div>
                        <div class="panel-body">
                            <div ng-show="dataLoaded">
                                <h3 class="text-cards">{{ cards.cubicMeters | number:0}} m³</h3>
                            </div>
                        </div>
                    </div>
                </td>
                <td class="cards" style="height: 240px">
                    <div class="panel panel-body3 panel-success-info3" style="height: 45%">
                        <div class="panel-heading">Consomem os recursos hídricos <span ng-hide="dataLoaded" class="fa fa-spinner fa-spin"></span></div>
                        <div class="panel-body">
                            <div ng-show="dataLoaded">
                                <h3 class="text-cards">{{ cards.person | number:0 }} pessoas</h3>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-body4 panel-success-info4" style="height: 45%">
                        <div class="panel-heading">Estimativa de término da água <span ng-hide="dataLoaded" class="fa fa-spinner fa-spin"></span></div>
                        <div class="panel-body">
                            <div ng-show="dataLoaded">
                                <h3 class="text-cards">{{ cards.water | date:"dd/MM/yyyy"}}</h3>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <table  class="table">
            <tr>
                <td id="dados_historicos" class="cards">
                    <div class="panel panel-info">
                        <div class="panel-heading">Dados Históricos</div>
                        <div class="panel-body">
                            <div id="chart" class="data-dimensions"></div>
                        </div>
                    </div>
                </td>
                <td class="cards">
                    <div class="panel panel-success">
                        <div class="panel-heading">Georreferenciamento</div>
                        <div class="panel-body">
                            <div id="mapa" class="data-dimensions"></div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <script type="text/javascript" src="assets/libs/conventAccordion/js/jquery.easing.1.3.js"></script>
    <script type="text/javascript" src="assets/libs/conventAccordion/js/jquery.conventAccordion.js"></script>
</div>